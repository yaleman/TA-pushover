{
    "pages": {
        "configuration": {
            "tabs": [
                {
                    "name": "account",
                    "title": "Account",
                    "table": {
                        "actions": [
                            "edit",
                            "delete",
                            "clone"
                        ],
                        "header": [
                            {
                                "label": "Name",
                                "field": "name"
                            },
                            {
                                "label": "User Key",
                                "field": "user"
                            }
                        ]
                    },
                    "entity": [
                        {
                            "type": "text",
                            "label": "Name",
                            "field": "name",
                            "help": "Enter a unique account name.",
                            "required": true,
                            "validators": [
                                {
                                    "type": "string",
                                    "errorMsg": "Length of account name should be between 1 and 50",
                                    "minLength": 1,
                                    "maxLength": 50
                                },
                                {
                                    "type": "regex",
                                    "errorMsg": "Name must begin with a letter and contain only alphanumeric characters and underscores.",
                                    "pattern": "^[a-zA-Z]\\w*$"
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "label": "User Key",
                            "field": "user",
                            "help": "Enter the Pushover user key.",
                            "required": true,
                            "validators": [
                                {
                                    "type": "string",
                                    "errorMsg": "Length of the user key should be 30 characters.",
                                    "minLength": 30,
                                    "maxLength": 30
                                }
                            ]
                        },
                        {
                            "type": "text",
                            "label": "Application Token",
                            "field": "app_token",
                            "help": "Enter the Pushover application token.",
                            "required": true,
                            "encrypted": true,
                            "validators": [
                                {
                                    "type": "string",
                                    "errorMsg": "Length of the app token should be 30 characters.",
                                    "minLength": 30,
                                    "maxLength": 30
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "loggingTab"
                }
            ],
            "title": "Configuration",
            "description": "Set up Pushover accounts and logging"
        }
    },
    "alerts": [
        {
            "name": "pushover",
            "label": "Pushover Alert",
            "description": "Send an alert via Pushover.net.",
            "entity": [
                {
                    "type": "text",
                    "label": "Message",
                    "field": "message",
                    "required": true,
                    "help": "Message body to send."
                },
                {
                    "type": "text",
                    "label": "Alert Title",
                    "field": "title",
                    "required": false,
                    "help": "Optional title."
                },
                {
                    "type": "text",
                    "label": "Additional URL",
                    "field": "url",
                    "required": false,
                    "help": "Optional URL to include."
                },
                {
                    "type": "text",
                    "label": "URL Display Text",
                    "field": "url_title",
                    "required": false,
                    "help": "Optional text shown for the URL."
                },
                {
                    "type": "singleSelect",
                    "label": "Priority",
                    "field": "priority",
                    "required": false,
                    "defaultValue": "0",
                    "help": "Message priority from -2 to 2.",
                    "options": {
                        "items": [
                            {
                                "value": "-2",
                                "label": "No notification or alert"
                            },
                            {
                                "value": "-1",
                                "label": "Quiet"
                            },
                            {
                                "value": "0",
                                "label": "Default"
                            },
                            {
                                "value": "1",
                                "label": "High priority"
                            },
                            {
                                "value": "2",
                                "label": "High priority with confirmation"
                            }
                        ]
                    }
                },
                {
                    "type": "singleSelect",
                    "label": "Sound",
                    "field": "sound",
                    "required": false,
                    "defaultValue": "",
                    "help": "Optional notification sound.",
                    "options": {
                        "items": [
                            {
                                "value": "",
                                "label": "User default"
                            },
                            {
                                "value": "pushover",
                                "label": "Pushover (default)"
                            },
                            {
                                "value": "bike",
                                "label": "Bike"
                            },
                            {
                                "value": "bugle",
                                "label": "Bugle"
                            },
                            {
                                "value": "cashregister",
                                "label": "Cash Register"
                            },
                            {
                                "value": "classical",
                                "label": "Classical"
                            },
                            {
                                "value": "cosmic",
                                "label": "Cosmic"
                            },
                            {
                                "value": "falling",
                                "label": "Falling"
                            },
                            {
                                "value": "gamelan",
                                "label": "Gamelan"
                            },
                            {
                                "value": "incoming",
                                "label": "Incoming"
                            },
                            {
                                "value": "intermission",
                                "label": "Intermission"
                            },
                            {
                                "value": "magic",
                                "label": "Magic"
                            },
                            {
                                "value": "mechanical",
                                "label": "Mechanical"
                            },
                            {
                                "value": "pianobar",
                                "label": "Piano Bar"
                            },
                            {
                                "value": "siren",
                                "label": "Siren"
                            },
                            {
                                "value": "spacealarm",
                                "label": "Space Alarm"
                            },
                            {
                                "value": "tugboat",
                                "label": "Tug Boat"
                            },
                            {
                                "value": "alien",
                                "label": "Alien Alarm (long)"
                            },
                            {
                                "value": "climb",
                                "label": "Climb (long)"
                            },
                            {
                                "value": "persistent",
                                "label": "Persistent (long)"
                            },
                            {
                                "value": "echo",
                                "label": "Pushover Echo (long)"
                            },
                            {
                                "value": "updown",
                                "label": "Up Down (long)"
                            },
                            {
                                "value": "vibrate",
                                "label": "Vibrate Only"
                            },
                            {
                                "value": "none",
                                "label": "None (silent)"
                            }
                        ]
                    }
                },
                {
                    "type": "singleSelectSplunkSearch",
                    "label": "Select Account",
                    "field": "account",
                    "required": true,
                    "help": "Select the configured account to use.",
                    "search": "| rest /servicesNS/nobody/TA-pushover/ta_pushover_account | table title | sort title",
                    "valueField": "title",
                    "labelField": "title"
                }
            ]
        }
    ],
    "meta": {
        "name": "TA-pushover",
        "restRoot": "ta_pushover",
        "version": "0.0.2",
        "displayName": "Pushover App for Splunk",
        "schemaVersion": "0.0.9"
    }
}
